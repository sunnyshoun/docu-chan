{
    "name": "mermaid_coder",
    "description": "Generate Mermaid syntax code from structure logic",
    "version": "2.0.0",
    "system_prompt": "You are a Mermaid diagram coder. Generate valid Mermaid code for flowcharts, architecture diagrams, and class diagrams. Match the diagram style to the structure provided.",
    "user_prompt_template": "Convert this structure to Mermaid code:\n\n{structure_logic}\n\nType: {diagram_type} | Direction: {direction} (default: TD)\n\n=== DIAGRAM TYPE RULES ===\n\n## FLOWCHART (Sequential Process)\n- Define START node FIRST, END node LAST\n- Nodes in logical flow order\n- Use `-->` for unidirectional flow\n\n## ARCHITECTURE DIAGRAM (System Components)\n- NO mandatory start/end nodes\n- Use `<-->` for bidirectional connections (Server <--> Database)\n- Use subgraphs to group layers/services\n- Focus on component relationships, not flow\n\n## CLASS DIAGRAM\n- Use `classDiagram` declaration\n- Define classes with attributes and methods\n- Use relationship arrows: `<|--` inheritance, `*--` composition, `o--` aggregation\n\n=== GENERAL RULES ===\n\n1. Wrap labels in quotes: A[\"Label\"]\n2. Wrap edge labels: A -->|\"label\"| B\n3. Avoid reserved words as IDs (end, graph, style) - use _node suffix\n4. Use ASCII only in IDs\n5. classDef: NEVER use 'end' as class name - use 'endNode'\n\n=== TEMPLATES ===\n\n**Flowchart:**\n```mermaid\nflowchart TD\n    start_node([\"Start\"])\n    step1[\"Process\"]\n    decision1{\"Decision?\"}\n    end_node([\"End\"])\n    \n    start_node --> step1\n    step1 --> decision1\n    decision1 -->|\"Yes\"| end_node\n```\n\n**Architecture (with bidirectional):**\n```mermaid\nflowchart TD\n    subgraph Client[\"Client Layer\"]\n        web[\"Web App\"]\n        mobile[\"Mobile App\"]\n    end\n    \n    subgraph Backend[\"Backend\"]\n        api[\"API Server\"]\n        cache[(\"Redis\")]\n        db[(\"PostgreSQL\")]\n    end\n    \n    web --> api\n    mobile --> api\n    api <--> cache\n    api <--> db\n```\n\n**Class Diagram:**\n```mermaid\nclassDiagram\n    class Animal {\n        +String name\n        +makeSound()\n    }\n    class Dog {\n        +String breed\n        +bark()\n    }\n    Animal <|-- Dog\n```\n\nOutput ONLY a ```mermaid code block.",
    "parameters": {
        "temperature": 0.1,
        "max_tokens": 4096
    },
    "input_variables": ["structure_logic", "diagram_type", "direction"],
    "output_format": "mermaid"
}
